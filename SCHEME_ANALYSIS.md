# æ–¹æ¡ˆåˆ†æä¸å¯¹æ¯”

## ğŸ“Š ä½ çš„éœ€æ±‚åˆ†æ

### åŸå§‹éœ€æ±‚

```
1. é…ç½®æ–‡ä»¶æ”¾åœ¨ GitHub ä»“åº“è®°å½•
2. å¯†ç åœ¨ç§æœ‰ä»“åº“å­˜å‚¨
3. æœ¬åœ°è¿›è¡Œè®°å½•å’Œç®¡ç†
4. é€šè¿‡è„šæœ¬è°ƒç”¨ HTTP è¯·æ±‚ä¸‹è½½é…ç½®
5. ä¸€é”®éƒ¨ç½²,æ— éœ€ Git
```

### æ ¸å¿ƒç—›ç‚¹

- âŒ ä¸æƒ³å®‰è£… Git
- âŒ æ‰‹åŠ¨æ‹‰å–ç§æœ‰ä»“åº“ç¹ç
- âŒ å ä½ç¬¦æ›¿æ¢å¤æ‚
- âŒ å¤šæ­¥æ“ä½œæ•ˆç‡ä½

---

## ğŸ’¡ æœ€ç»ˆæ–¹æ¡ˆ: HTTP ä¸‹è½½ + ç§æœ‰ä»“åº“

### æ¶æ„è®¾è®¡

```
ç”¨æˆ·æœºå™¨                           GitHub
  â”‚                                  â”‚
  â”œâ”€> bootstrap.sh (HTTP ä¸‹è½½)      â”‚
  â”‚                                  â”‚
  â”œâ”€> ä¸‹è½½å…¬å¼€é…ç½® â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚   â””â”€> docker-compose/*.yml      â”‚
  â”‚   â””â”€> config/*                  â”‚
  â”‚   â””â”€> secrets/templates/*       â”‚
  â”‚                                  â”‚
  â”œâ”€> ä¸‹è½½ç§æœ‰é…ç½® (éœ€è¦ Token) â”€â”€â”€â”€â”¤
  â”‚   â””â”€> secrets/*/.env.*          â”‚
  â”‚                                  â”‚
  â””â”€> è‡ªåŠ¨éƒ¨ç½²æœåŠ¡                  â”‚
      â””â”€> Docker Compose Up         â”‚
```

### å·¥ä½œæµç¨‹

```bash
# 1. ç”¨æˆ·æ‰§è¡Œä¸€è¡Œå‘½ä»¤
curl -fsSL https://raw.githubusercontent.com/USER/REPO/main/bootstrap.sh | bash

# 2. bootstrap.sh è‡ªåŠ¨å®Œæˆ:
#    a. æ£€æŸ¥ä¾èµ– (Docker, curl/wget)
#    b. åˆ›å»ºç›®å½•ç»“æ„
#    c. HTTP ä¸‹è½½æ‰€æœ‰é…ç½®æ–‡ä»¶
#    d. å¦‚æœæœ‰ Token,ä¸‹è½½ç§æœ‰å¯†ç é…ç½®
#    e. è‡ªåŠ¨ç”Ÿæˆéšæœºå¯†ç  (å¦‚æœæ²¡æœ‰ç§æœ‰é…ç½®)
#    f. ä½¿ç”¨ Docker Compose éƒ¨ç½²æœåŠ¡

# 3. å®Œæˆ!æœåŠ¡å·²è¿è¡Œ
```

---

## ğŸ¯ æ–¹æ¡ˆå¯¹æ¯”

### æ–¹æ¡ˆ 1: HTTP ä¸‹è½½ (æœ¬æ–¹æ¡ˆ â­â­â­â­â­)

**æ¶æ„:**
```
GitHub å…¬å¼€ä»“åº“                 GitHub ç§æœ‰ä»“åº“
â”œâ”€â”€ bootstrap.sh          â†â”€â”€â”€â”€â”œâ”€â”€ database/.env.mysql
â”œâ”€â”€ docker-compose/            â”œâ”€â”€ cache/.env.redis
â”œâ”€â”€ config/                    â””â”€â”€ middleware/.env.*
â””â”€â”€ secrets/templates/
```

**ä½¿ç”¨:**
```bash
# ä¸€è¡Œå‘½ä»¤æå®š
curl -fsSL URL/bootstrap.sh | bash

# æˆ–ä½¿ç”¨ç§æœ‰é…ç½®
export GITHUB_TOKEN="ghp_xxx"
curl -fsSL URL/bootstrap.sh | bash
```

**ä¼˜ç‚¹:**
- âœ… é›¶ä¾èµ– (ä¸éœ€è¦ Git)
- âœ… ä¸€é”®éƒ¨ç½² (ä¸€è¡Œå‘½ä»¤)
- âœ… è‡ªåŠ¨åŒ–ç¨‹åº¦é«˜
- âœ… æ”¯æŒç§æœ‰ä»“åº“
- âœ… é…ç½®è‡ªåŠ¨ç”Ÿæˆ
- âœ… æé€Ÿéƒ¨ç½² (1åˆ†é’Ÿ)

**ç¼ºç‚¹:**
- âš ï¸ éœ€è¦ç½‘ç»œè¿æ¥
- âš ï¸ ç§æœ‰ä»“åº“éœ€è¦ GitHub Token

**é€‚ç”¨åœºæ™¯:**
- âœ… ä¸ªäººå¼€å‘è€… (å®Œç¾åŒ¹é…)
- âœ… å°å›¢é˜Ÿåä½œ
- âœ… CI/CD é›†æˆ
- âœ… ä¸´æ—¶ç¯å¢ƒéƒ¨ç½²
- âœ… å¤šæœºå™¨åŒæ­¥

---

### æ–¹æ¡ˆ 2: Git Clone + Submodule

**æ¶æ„:**
```
ä¸»ä»“åº“ (Clone)                 ç§æœ‰ä»“åº“ (Submodule)
â”œâ”€â”€ docker-compose/       â†â”€â”€â”€â”€â”œâ”€â”€ database/.env.mysql
â”œâ”€â”€ config/                    â””â”€â”€ cache/.env.redis
â””â”€â”€ secrets/ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Submodule
```

**ä½¿ç”¨:**
```bash
# éœ€è¦å¤šæ­¥æ“ä½œ
git clone --recursive https://github.com/USER/REPO.git
cd REPO
./scripts/setup.sh
./scripts/deploy.sh mysql
```

**ä¼˜ç‚¹:**
- âœ… Git ç‰ˆæœ¬ç®¡ç†
- âœ… é…ç½®å¯è¿½æº¯
- âœ… é€‚åˆ Git ç”¨æˆ·

**ç¼ºç‚¹:**
- âŒ éœ€è¦å®‰è£… Git
- âŒ éœ€è¦å¤šæ­¥æ“ä½œ
- âŒ Submodule æ¦‚å¿µå¤æ‚
- âŒ æ–°æ‰‹ä¸å‹å¥½

**é€‚ç”¨åœºæ™¯:**
- ä¸­å‹å›¢é˜Ÿ (10-50äºº)
- éœ€è¦é…ç½®ç‰ˆæœ¬è¿½è¸ª

---

### æ–¹æ¡ˆ 3: Git-crypt åŠ å¯†

**æ¶æ„:**
```
ä¸»ä»“åº“ (å•ä¸€ä»“åº“)
â”œâ”€â”€ docker-compose/
â”œâ”€â”€ config/
â””â”€â”€ secrets/
    â””â”€â”€ .env.mysql (åŠ å¯†)
```

**ä½¿ç”¨:**
```bash
# éœ€è¦ GPG å¯†é’¥
git-crypt unlock ~/.git-crypt-key
docker-compose up -d
```

**ä¼˜ç‚¹:**
- âœ… å•ä¸€ä»“åº“
- âœ… è‡ªåŠ¨åŠ å¯†/è§£å¯†

**ç¼ºç‚¹:**
- âŒ éœ€è¦ GPG å¯†é’¥ç®¡ç†
- âŒ å›¢é˜Ÿåä½œéœ€å…±äº«å¯†é’¥
- âŒ Windows æ”¯æŒå¼±

---

### æ–¹æ¡ˆ 4: HashiCorp Vault

**æ¶æ„:**
```
åº”ç”¨å®¹å™¨ â†â”€â”€â”€â”€â†’ Vault æœåŠ¡å™¨
                   â”‚
                   â”œâ”€â”€ MySQL å¯†ç 
                   â”œâ”€â”€ Redis å¯†ç 
                   â””â”€â”€ åŠ¨æ€ç”Ÿæˆ
```

**ä¼˜ç‚¹:**
- âœ… ä¼ä¸šçº§å®‰å…¨
- âœ… åŠ¨æ€å¯†é’¥

**ç¼ºç‚¹:**
- âŒ éœ€è¦é¢å¤–æœåŠ¡
- âŒ è¿ç»´æˆæœ¬é«˜
- âŒ è¿‡äºå¤æ‚

---

## ğŸ“Š æ–¹æ¡ˆé€‰æ‹©çŸ©é˜µ

| ç»´åº¦ | HTTPä¸‹è½½ | Git+Submodule | git-crypt | Vault |
|------|----------|---------------|-----------|-------|
| **ä¾èµ–** | curl/wget | Git | Git + GPG | VaultæœåŠ¡ |
| **æ˜“ç”¨æ€§** | â­â­â­â­â­ | â­â­â­ | â­â­â­ | â­â­ |
| **å®‰å…¨æ€§** | â­â­â­â­ | â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ |
| **éƒ¨ç½²é€Ÿåº¦** | 1åˆ†é’Ÿ | 5åˆ†é’Ÿ | 5åˆ†é’Ÿ | 30åˆ†é’Ÿ |
| **å­¦ä¹ æˆæœ¬** | ä½ | ä¸­ | é«˜ | é«˜ |
| **è¿ç»´æˆæœ¬** | ä½ | ä½ | ä¸­ | é«˜ |
| **å›¢é˜Ÿåä½œ** | â­â­â­â­ | â­â­â­â­ | â­â­â­ | â­â­â­â­â­ |
| **Windows** | âœ… | âœ… | â­â­â­ | âœ… |

---

## ğŸ† æ¨èç»“è®º

### å¯¹äºä½ çš„åœºæ™¯

**âœ… å¼ºçƒˆæ¨è: HTTP ä¸‹è½½æ–¹æ¡ˆ**

**ç†ç”±:**

1. **å®Œç¾åŒ¹é…éœ€æ±‚**
   - âœ… ä¸éœ€è¦ Git
   - âœ… ä¸€è¡Œå‘½ä»¤éƒ¨ç½²
   - âœ… HTTP ä¸‹è½½é…ç½®
   - âœ… ç§æœ‰ä»“åº“å­˜å‚¨å¯†ç 
   - âœ… è‡ªåŠ¨åŒ–ç¨‹åº¦æœ€é«˜

2. **è§£å†³äº†æ‰€æœ‰ç—›ç‚¹**
   - âŒ ä¸æƒ³è£… Git â†’ âœ… åªéœ€è¦ curl
   - âŒ æ‰‹åŠ¨æ‹‰å– â†’ âœ… è‡ªåŠ¨ä¸‹è½½
   - âŒ å ä½ç¬¦æ›¿æ¢ â†’ âœ… ç›´æ¥ä½¿ç”¨ .env
   - âŒ å¤šæ­¥æ“ä½œ â†’ âœ… ä¸€é”®å®Œæˆ

3. **é¢å¤–ä¼˜åŠ¿**
   - æé€Ÿéƒ¨ç½² (1åˆ†é’Ÿ)
   - é›¶å­¦ä¹ æˆæœ¬
   - å®Œç¾æ”¯æŒ CI/CD
   - æ–°æœºå™¨ç§’çº§é…ç½®

---

## ğŸ”„ å®ç°ç»†èŠ‚

### bootstrap.sh æ ¸å¿ƒåŠŸèƒ½

#### 1. æ— ä¾èµ–æ£€æµ‹

```bash
# è‡ªåŠ¨é€‰æ‹©ä¸‹è½½å·¥å…·
if command -v curl &> /dev/null; then
    DOWNLOADER="curl"
elif command -v wget &> /dev/null; then
    DOWNLOADER="wget"
fi
```

#### 2. HTTP ä¸‹è½½æ–‡ä»¶

```bash
# å…¬å¼€æ–‡ä»¶
curl -fsSL $URL -o $FILE

# ç§æœ‰æ–‡ä»¶ (å¸¦è®¤è¯)
curl -fsSL -H "Authorization: token $TOKEN" $URL -o $FILE
```

#### 3. è‡ªåŠ¨ç”Ÿæˆå¯†ç 

```bash
# ç”Ÿæˆ 32 ä½å¼ºå¯†ç 
generate_password() {
    openssl rand -base64 48 | cut -c1-32
}
```

#### 4. ä¸€é”®éƒ¨ç½²

```bash
# ä½¿ç”¨ç¯å¢ƒå˜é‡
export SECRETS_DIR=~/docker-compose-env/secrets
docker-compose -f docker-compose/database/mysql.yml up -d
```

---

## ğŸŒŸ æ ¸å¿ƒä¼˜åŠ¿æ€»ç»“

### 1. é›¶ä¾èµ–

```bash
# ä¼ ç»Ÿæ–¹æ¡ˆ
éœ€è¦å®‰è£…: Git, Docker, Docker Compose

# æœ¬æ–¹æ¡ˆ
éœ€è¦å®‰è£…: Docker, Docker Compose, curl/wget (ç³»ç»Ÿè‡ªå¸¦)
```

### 2. ä¸€é”®éƒ¨ç½²

```bash
# ä¼ ç»Ÿæ–¹æ¡ˆ
git clone --recursive URL
cd project
git submodule update --init
./scripts/setup.sh
./scripts/deploy.sh mysql

# æœ¬æ–¹æ¡ˆ
curl -fsSL URL/bootstrap.sh | bash
```

### 3. è‡ªåŠ¨åŒ–

```bash
# è‡ªåŠ¨å®Œæˆ:
- æ£€æŸ¥ä¾èµ–
- åˆ›å»ºç›®å½•
- ä¸‹è½½é…ç½®
- ç”Ÿæˆå¯†ç 
- éƒ¨ç½²æœåŠ¡
- éªŒè¯çŠ¶æ€
```

### 4. çµæ´»é…ç½®

```bash
# å…¬å¼€é…ç½® (é»˜è®¤)
curl -fsSL URL/bootstrap.sh | bash

# ç§æœ‰é…ç½®
export GITHUB_TOKEN="ghp_xxx"
curl -fsSL URL/bootstrap.sh | bash

# æŒ‡å®šæœåŠ¡
curl -fsSL URL/bootstrap.sh | bash -s -- mysql redis

# è‡ªå®šä¹‰ç›®å½•
curl -fsSL URL/bootstrap.sh | bash -s -- --install-dir /opt/env
```

---

## ğŸ“ˆ æ‰©å±•æ€§

### æ”¯æŒçš„æ‰©å±•

#### å·²å®ç° âœ…
- å•èŠ‚ç‚¹éƒ¨ç½²
- å¤šæœåŠ¡ç®¡ç†
- è‡ªåŠ¨å¯†ç ç”Ÿæˆ
- ç§æœ‰ä»“åº“é›†æˆ
- æ•°æ®å¤‡ä»½æ¢å¤

#### è½»æ¾æ‰©å±• ğŸ”„
```bash
# Redis é›†ç¾¤
curl -fsSL URL/bootstrap.sh | bash -s -- redis-cluster

# MySQL ä¸»ä»
curl -fsSL URL/bootstrap.sh | bash -s -- mysql-replication

# å¤šç¯å¢ƒ
curl -fsSL URL/bootstrap.sh | bash -s -- --env prod
```

#### æœªæ¥è§„åˆ’ ğŸ“š
- é…ç½®ç‰ˆæœ¬é€‰æ‹©
- åœ¨çº¿é…ç½®ç¼–è¾‘å™¨
- Web ç®¡ç†ç•Œé¢
- è‡ªåŠ¨æ‰©ç¼©å®¹

---

## ğŸ“ æ€»ç»“

### ä½ çš„éœ€æ±‚ â†’ æœ€ç»ˆæ–¹æ¡ˆ

| éœ€æ±‚ | è§£å†³æ–¹æ¡ˆ | çŠ¶æ€ |
|------|---------|------|
| é…ç½®åœ¨ GitHub | å…¬å¼€ä»“åº“ | âœ… |
| å¯†ç ç§æœ‰å­˜å‚¨ | ç§æœ‰ä»“åº“ + Token | âœ… |
| æœ¬åœ°è®°å½• | è‡ªåŠ¨ä¸‹è½½åˆ°æœ¬åœ° | âœ… |
| HTTP ä¸‹è½½ | curl/wget | âœ… |
| ä¸€é”®éƒ¨ç½² | bootstrap.sh | âœ… |
| æ— éœ€ Git | é›¶ä¾èµ– | âœ… |

### æœ€ç»ˆæ–¹æ¡ˆ: HTTP ä¸‹è½½ + ç§æœ‰ä»“åº“

**ä¼˜åŠ¿:**
- âœ… é›¶ä¾èµ– (ä¸éœ€è¦ Git)
- âœ… ä¸€é”®éƒ¨ç½² (1 åˆ†é’Ÿ)
- âœ… è‡ªåŠ¨åŒ– (å…¨è‡ªåŠ¨é…ç½®)
- âœ… å®‰å…¨å¯é  (ç§æœ‰ä»“åº“)
- âœ… æ˜“äºæ‰©å±• (æ¨¡å—åŒ–è®¾è®¡)

**è¿™å°±æ˜¯æœ€é€‚åˆä½ çš„æ–¹æ¡ˆ!** ğŸ‰
