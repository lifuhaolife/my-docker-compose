# ============================================
# Nacos 配置文件
# ============================================
# 文档: https://nacos.io/zh-cn/docs/what-is-nacos.html

# 服务器配置
server.servlet.contextPath=/nacos
server.port=8848

# Spring 配置
spring.datasource.platform=

# 独立模式（使用内嵌数据库）
db.num=1
db.url.0=jdbc:derby:${nacos.home}/data/derby-data/nacos;create=true
db.user=nacos
db.password=nacos

# 如果使用外部 MySQL 数据库，取消以下注释并配置：
# spring.datasource.platform=mysql
# db.num=1
# db.url.0=jdbc:mysql://mysql:3306/nacos?characterEncoding=utf8&connectTimeout=1000&socketTimeout=3000&autoReconnect=true&useUnicode=true&useSSL=false&serverTimezone=UTC
# db.user.0=nacos
# db.password.0=${MYSQL_SERVICE_PASSWORD}

# 认证配置
nacos.core.auth.enabled=true
nacos.core.auth.system.type=nacos
nacos.core.auth.plugin.nacos.token.secret.key=${NACOS_AUTH_TOKEN}
nacos.core.auth.server.identity.key=${NACOS_AUTH_IDENTITY_KEY}
nacos.core.auth.server.identity.value=${NACOS_AUTH_IDENTITY_VALUE}

# 日志配置
logging.level.com.alibaba.nacos=info
logging.level.com.alibaba.nacos.client.naming=warn

# 网络配置
nacos.inetutils.ip-address=
nacos.inetutils.prefer-hostname-over-ip=false

# 集群配置（单机模式不需要配置）
# nacos.member.list=

# 性能配置
nacos.naming.distro.taskDispatchThreadCount=1
nacos.naming.distro.taskDispatchPeriod=200
nacos.naming.distro.batchSyncKeyCount=1000
nacos.naming.distro.initDataRatio=0.9
nacos.naming.distro.syncRetryDelay=5s
